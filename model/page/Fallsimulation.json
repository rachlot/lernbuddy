{
    "ID": "Fallsimulation",
    "layout": {
        "widget": "page",
        "children": [
            {
                "html": "<h1>Fallsimulation</h1>",
                "widget": "html"
            },
            {
                "html": "<h2>Baue dir dein klinisches Szenario!</h2>",
                "widget": "html"
            },
            {
                "title": "Was würdest du gerne üben? Gib ein Stichwort ein (z.B. präklinischer Notfall, geriatrischer Patient).",
                "text": "Los geht's",
                "print": "(\n$x := $curl(\"POST\", \"https://api.openai.com/v1/chat/completions\", {\n    \"model\": \"gpt-4o-mini\",\n    \"messages\": [\n      {\n        \"role\": \"system\",\n        \"content\":  \"Du bist ein Fallsimulator, der den Benutzer durch eine realistische klinische Fallbearbeitung führt. Basierend auf dem Input des Benutzers erstellst du ein plausibles Fallbeispiel, das eine umfassende Anamnese, körperliche Untersuchung, Diagnosestellung und Therapieplanung beinhaltet. Zu Beginn des Falls gibst du dem Benutzer die notwendigen Basisinformationen über den Patienten. Die Vorstellung erfolgt in folgenden Kategorien: Name, Leitsymptom, Alter, Geschlecht, Medikamente, Vorbefunde. Du stellst ihm zu Beginn eine konkrete Leitfrage. Im Verlauf stellst du gezielte Fragen zur Anamnese, Untersuchungen und Behandlungsschritten, als wäre der Benutzer der behandelnde Arzt. Du fragst den Benutzer nach jeder Phase (Anamnese, Untersuchung, Diagnosestellung, Behandlung), was er als nächstes tun würde. Wenn er es nicht weiß oder unsicher ist, gibst du gezielte Hinweise und erklärst mögliche Optionen, um ihm zu helfen, den Fall strukturiert zu lösen. Ziel ist es, dass der Benutzer den Fall eigenständig bearbeitet und dabei klinisch korrekt vorgeht. Deine Antworten sollen **keine** Markdown-Formatierung verwenden. Es sollen keine Zeichen wie Sternchen (`**`) oder andere Formatierungszeichen enthalten sein. Halte die Struktur einfach und klar.\" \n      }\n    ]\n }, {\"Authorization\": \"openai\", \"dj-timeout-seconds\": 60}).choices[0].message.content;\n$setVariable(\"antwort\", $x);\n$refresh();\n)\n",
                "widget": "button",
                "schema": {
                    "type": "object",
                    "properties": {
                        "fallbeschreibung": {
                            "widget": "voice",
                            "language": "de",
                            "multiline": true,
                            "style": {
                                "width": "80vw"
                            }
                        }
                    }
                }
            },
            {
                "html": "<br><br>",
                "widget": "html"
            },
            {
                "display": "variable.antwort",
                "title": "Dein Fall",
                "widget": "display"
            },
            {
                "html": "<br><hr><br>",
                "widget": "html"
            },
            {
                "html": "<h2>Zufälliger Fall</h2>",
                "widget": "html"
            },
            {
                "text": "Los geht's",
                "print": "(\n$x := $curl(\"POST\", \"https://api.openai.com/v1/chat/completions\", {\n    \"model\": \"gpt-4\",\n    \"messages\": [\n      {\n        \"role\": \"system\",\n        \"content\": \"Du bist ein Fallsimulator, der den Benutzer durch eine realistische klinische Fallbearbeitung führt. Basierend auf dem Input des Benutzers erstellst du ein plausibles Fallbeispiel, das eine umfassende Anamnese, körperliche Untersuchung, Diagnosestellung und Therapieplanung beinhaltet. Zu Beginn des Falls gibst du dem Benutzer die notwendigen Basisinformationen über den Patienten. Die Vorstellung erfolgt in folgenden Kategorien: Name, Leitsymptom, Alter, Geschlecht, Medikamente, Vorbefunde. Du stellst ihm zu Beginn eine konkrete Leitfrage. Im Verlauf stellst du gezielte Fragen zur Anamnese, Untersuchungen und Behandlungsschritten, als wäre der Benutzer der behandelnde Arzt. Du fragst den Benutzer nach jeder Phase (Anamnese, Untersuchung, Diagnosestellung, Behandlung), was er als nächstes tun würde. Wenn er es nicht weiß oder unsicher ist, gibst du gezielte Hinweise und erklärst mögliche Optionen, um ihm zu helfen, den Fall strukturiert zu lösen. Ziel ist es, dass der Benutzer den Fall eigenständig bearbeitet und dabei klinisch korrekt vorgeht. Deine Antworten sollen keine Markdown-Formatierung verwenden. Es sollen keine Zeichen wie Sternchen oder andere Formatierungszeichen enthalten sein. Halte die Struktur einfach und klar.\"\n      },\n      {\n        \"role\": \"assistant\",\n        \"content\": $variable.antwort1\n      },\n      {\n        \"role\": \"user\",\n        \"content\": form.Antwort\n      }\n    ]\n }, {\"Authorization\": \"openai\", \"dj-timeout-seconds\": 60}).choices[0].message.content;\n\n$setVariable(\"antwort1\", $x);\n$refresh();\n)",
                "widget": "button"
            },
            {
                "html": "<br><br>",
                "widget": "html"
            },
            {
                "display": "variable.antwort1",
                "title": "Dein Fall",
                "widget": "display"
            },
            {
                "html": "<br><br>",
                "widget": "html"
            },
            {
                "title": "Wie würdest du vorgehen?",
                "text": "Gib deine Antwort ein",
                "print": "(\n$x := $curl(\"POST\", \"https://api.openai.com/v1/chat/completions\", {\n    \"model\": \"gpt-4o-mini\",\n    \"messages\": [\n      {\n        \"role\": \"system\",\n        \"content\":  \"Du bist ein Fallsimulator, der den Benutzer durch eine realistische klinische Fallbearbeitung führt. Basierend auf dem Input des Benutzers erstellst du ein plausibles Fallbeispiel, das eine umfassende Anamnese, körperliche Untersuchung, Diagnosestellung und Therapieplanung beinhaltet. Zu Beginn des Falls gibst du dem Benutzer die notwendigen Basisinformationen über den Patienten. Die Vorstellung erfolgt in folgenden Kategorien: Name, Leitsymptom, Alter, Geschlecht, Medikamente, Vorbefunde. Im Verlauf stellst du gezielte Fragen zur Anamnese, Untersuchungen und Behandlungsschritten, als wäre der Benutzer der behandelnde Arzt. Du fragst den Benutzer nach jeder Phase (Anamnese, Untersuchung, Diagnosestellung, Behandlung), was er als nächstes tun würde. Wenn er es nicht weiß oder unsicher ist, gibst du gezielte Hinweise und erklärst mögliche Optionen, um ihm zu helfen, den Fall strukturiert zu lösen. Ziel ist es, dass der Benutzer den Fall eigenständig bearbeitet und dabei klinisch korrekt vorgeht.\" \n      },\n      {\n        \"role\": \"assistant\",\n        \"content\": $variable.antwort1\n      },\n      {\n        \"role\": \"user\",\n        \"content\":  form.Antwort \n      }\n    ]\n }, {\"Authorization\": \"openai\", \"dj-timeout-seconds\": 60}).choices[0].message.content;\n$setVariable(\"antwort\", $x);\n$refresh();\n)\n",
                "widget": "button",
                "schema": {
                    "type": "object",
                    "properties": {
                        "Antwort": {
                            "widget": "textarea",
                            "language": "de",
                            "multiline": true,
                            "style": {
                                "width": "80vw"
                            }
                        }
                    }
                }
            }
        ]
    }
}