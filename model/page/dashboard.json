{
    "ID": "dashboard",
    "layout": {
        "widget": "page",
        "children": [
            {
                "widget": "container",
                "children": [
                    {
                        "html": "<h1>Willkommen beim LernBuddy!</h1>\n<p>Wählen ein Thema aus, das Du lernen möchtest, und starte das Quiz!</p>",
                        "widget": "html"
                    },
                    {
                        "title": "Thema auswählen",
                        "text": "Starten",
                        "expression": "{\n  \"thema\": variable.thema,\n  \"antworten\": []\n}",
                       "print": "($x := $curl(\"POST\", \"https://api.openai.com/v1/chat/completions\", {\"model\": \"gpt-4o-mini\", \"messages\": [{\"role\": \"system\", \"content\": \"Deine Aufgabe ist es, Textaufgaben zu den folgenden Lernzielen zu erstellen. Jede Aufgabe soll das Verständnis der Studierenden testen und detailliertes Feedback geben, um aufzuzeigen, ob das Lernziel erreicht wurde. Feedback sollte umfassen: eine Erklärung zur richtigen Antwort, Hinweise auf häufige Fehler und Tipps, wie das Lernziel besser verstanden werden kann. Lernziele: \" & form.lernziele}]}, {\"Authorization\": \"openai\"}).choices[0].message.content; $setVariable(\"aufgabenMitFeedback\", $parseJson($x)); $refresh();)",

                        "widget": "button",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "thema": {
                                    "widget": "select",
                                    "options": "['Anatomie', 'Physiologie', 'Pharmakologie', 'Pathologie']",
                                    "style": {
                                        "width": "400px"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "display": "variable.quizfragen",
                        "title": "Quiz Fragen",
                        "widget": "display",
                        "size": 6
                    },
                    {
                        "title": "Frage beantworten",
                        "text": "Antwort einreichen",
                        "expression": "{\n  \"antwort\": variable.antwort\n}",
                        "print": "(\n$evaluateAnswer(variable.antwort, variable.quizfragen[currentIndex].correctAnswer);\n$appendVariable(\"antworten\", variable.antwort);\n$nextQuestion();\n$refresh()\n\n)",
                        "widget": "button",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "antwort": {
                                    "widget": "radiogroup",
                                    "options": [], 
                                    "style": {
                                        "width": "600px"
                                    }
                                }
                            }
                        }
                    }
                ]
            },
            {
                "display": "variable.ergebnisse",
                "title": "Ihre Ergebnisse",
                "widget": "display",
                "size": 6
            },
            {
                "text": "Quiz beenden",
                "expression": "variable.ergebnisse",
                "print": "form",
                "title": "Ergebnis anzeigen",
                "widget": "button",
                "size": 6
            }
        ]
    }
}
